<div class="container d-flex justify-content-center align-items-start mt-5" style="min-height: 80vh;">
  <div class="col-md-6">
    <h2 class="text-center mb-4">Create Poll</h2>
    <form [formGroup]="pollForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="question" class="form-label">Poll Question</label>
        <input type="text" formControlName="question" class="form-control" placeholder="Enter poll question" required>
        <div *ngIf="pollForm.get('question')?.invalid && pollForm.get('question')?.touched" class="text-danger">
          Question is required.
        </div>
      </div>

      <div formArrayName="options">
        <div *ngFor="let option of options.controls; let i = index" [formGroupName]="i" class="mb-3">
          <label for="optionText" class="form-label">Option {{i + 1}}</label>
          <input type="text" class="form-control" formControlName="optionText" placeholder="Enter option" required>
          <div *ngIf="option.get('optionText')?.invalid && option.get('optionText')?.touched" class="text-danger">
            Option text is required.
          </div>
          <button *ngIf="i > 0" type="button" (click)="removeOption(i)" class="btn btn-danger btn-sm mt-2">Remove</button>
        </div>
      </div>
      
      <div *ngIf="createError" class="text-danger mb-3">
        Poll already exists. Please try again.
      </div>
      
      <!-- Flex container for buttons -->
      <div class="d-flex justify-content-between w-100 mt-2">
        <button type="button" (click)="addOption()" class="btn btn-secondary">Add Option</button>
        <button type="submit" class="btn btn-primary" [disabled]="pollForm.invalid">Submit Poll</button>
      </div>
    </form>
  </div>
</div>
